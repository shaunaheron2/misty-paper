---
title: "Responsive Robotics to Increase Trust in Autonomous Human–Robot Interaction"
subtitle: "An In-Person Pilot Study"
author:
  - name: M.C. Lau
    email: mclau@laurentian.ca
    affiliations: 
        - id: some-tech
          name: Laurentian University
          department: Bharti School of Engineering
    attributes:
        corresponding: true
    note: This is the first author footnote.
  - name: Shauna Heron
    email: sheron@laurentian.ca
    affiliations:
        - id: some-tech
          name: Laurentian University
          department: School of Social Sciences
    note: |
      Another author footnote, this is a very long footnote and it should be a really long footnote. But this footnote is not yet sufficiently long enough to make two lines of footnote text.
abstract: |
    This study implements a multi-stage collaborative task system where participants collaborate with the Misty-II social robot to solve a who-dunnit type task. The system utilizes an autonomous, mixed-initiative dialogue architecture with affect-responsive capabilities.
keywords: 
  - human-robot interaction
  - HRI
  - socially assistive robotics
  - cobots
  - autonomous robot systems
  - spoken language interaction
  - trust in automation
  - trust in human-robot interaction
  - affect-adaptive systems
date: last-modified
bibliography: bibliography.bib
format:
  elsevier-pdf:
    keep-tex: true
    journal:
      name: Journal Name
      formatting: preprint
      # model: 3p # Don't set a model with preprint
      cite-style: authoryear

warning: false
echo: false
message: false
---

```{r}

library(tidyverse)
library(janitor)
library(scales)
library(corrplot)
library(sjPlot)
library(ggstatsplot)
library(psych)
library(performance)
library(gt)
library(Hmisc)
library(haven)
library(gtsummary)

session_df <- readRDS("full_session_data.rds")
survey_df <- readRDS("survey_data.rds") |>
  arrange(post_date)

set_gtsummary_theme(theme_gtsummary_journal("nejm"))
set_gtsummary_theme(theme_gtsummary_compact())

dialogue_session_summary <- read_csv(
  'data/analysis_output/final_dialogue_summary.csv'
) |>
  mutate(
    exclusions = if_else(
      mean_comm_breakdown > .5,
      'exclude',
      'include'
    )
  ) |>
  select(
    session_id,
    -n_turns,
    contains('prop'),
    n_stage_skipped,
    n_task_turns,
    contains('burden'),
    contains('viability'),
    exclusions
  )

df_flat_scores_final <- readRDS("full_dataset_with_items.rds") |>
  left_join(dialogue_session_summary, by = join_by(session_id)) |>
  filter(exclusions != 'exclude')

df_long_scores_final <- readRDS("full_dataset_long_trust_post.csv") |>
  left_join(dialogue_session_summary, by = join_by(session_id)) |>
  filter(exclusions != 'exclude')

# "P14" "P17" "P30" "P32" "P46" "P47" "P50"

```

## Project Description

As many industries move toward greater automation (e.g., mining, manufacturing), robotic assistants are becoming increasingly common in operational workflows from manufacturing to mining [@fu2021; @racette2024]. These systems can help reduce human exposure to hazards, but trust remains a critical barrier to adoption [@campagna2025; @emaminejad2022]. Low trust can lead to rejection of automation, while excessive trust (automation bias) risks overreliance [@devisser2020]. While most industrial robots rely on fixed, rule-based behaviour, there is growing interest in AI-enhanced systems that support more adaptive and socially intelligent interactions.

Research shows that emotional responsiveness in robots—expressed through tone, facial expression, or supportive dialogue—can improve perceptions of trustworthiness and social intelligence [@shayganfar2019; @fartook2025]. Moreover, a robot’s ability to detect early signs of stress, fatigue, or cognitive overload may have practical value in high-risk environments such as underground mines, where attentional lapses can pose serious safety risks [@racette2024; @murphy2009]. Responsive adaptation in this context could enhance both trust and real-time situational awareness [@fu2021; @murphy2009; @racette2024].

This project aims to develop and evaluate a multi-sensor Emotion-Adaptive AI System (EAI) for the Misty II robot [@mistya]. The EAI will use AI-driven affect-inference models including facial emotion recognition models, vocal tone analysis, combined with a generative language model to coordinate task interaction monitoring to estimate user affective states such as frustration, confusion, or disengagement. These inferences will guide Misty’s real-time responses, including encouragement, clarification prompts, or praise. We will compare this adaptive mode against a neutral, rule-based version of Misty to assess effects on user trust, collaboration, and task performance. We will also explore how individual cognitive traits may moderate these interactions [@nicolas2021].

# Pilot Study

Human–robot collaboration (HRC) has become a central topic across engineering, computer science, and the social sciences as robots increasingly move from controlled laboratory settings into everyday collaborative roles. In many emerging applications, collaboration depends not only on physical coordination but also on shared problem-solving through dialogue, where AI-driven robots must reason, communicate, and adapt in real time. Understanding how humans perceive and respond to such systems is therefore critical for designing robots that can function as effective collaborators rather than passive tools.

A key factor shaping successful collaboration in human–robot interaction (HRI) is trust [@waytz2014; @emaminejad2022]. Trust influences whether users are willing to adopt robotic systems, accept their guidance, and remain engaged during joint tasks, particularly in situations characterized by uncertainty or incomplete information [@waytz2014; @emaminejad2022]. Prior work has shown that trust affects both subjective perceptions such as perceived reliability or intent, and objective outcomes including task performance, compliance, and cooperation. As a result, a substantial body of research has focused on measuring trust in HRI, leading to the development of standardized instruments for assessing users’ evaluations of robot behaviour across industrial, medical, and social contexts.

Despite this progress, much of the existing literature on trust in HRI is based on interactions conducted under highly controlled or simulated conditions. In many studies, robot behaviour is scripted, partially simulated, or mediated through Wizard-of-Oz paradigms, where a human operator covertly controls aspects of the robot’s behaviour. While these approaches are valuable for isolating specific design factors and testing early hypotheses, they also mask many of the failures and inconsistencies that characterize autonomous systems in real-world use. Speech recognition errors, delayed or inappropriate responses, misinterpretations of user intent, and limitations of affect sensing are not peripheral issues but central features of deployed autonomous robots. These imperfections are likely to play a decisive role in shaping trust, yet they remain underexplored in empirical HRI research.

Introduce the concept of responsiveness in robot/AI systems as a moderator of trust. Prior work has suggested that robots that can adapt their behaviour based on user affect and contextual cues may foster greater trust and engagement. However, most studies examining responsiveness have relied on simulated or semi-autonomous systems, leaving open questions about how these effects manifest in fully autonomous, in-person interactions. While most industrial robots rely on fixed, rule-based behaviour, there is growing interest in AI-enhanced systems that support more adaptive and socially intelligent interactions [@fu2021; @murphy2009; @racette2024].

The present pilot study addresses this gap by examining trust and collaboration in an in-person interaction with two versions of a fully autonomous social robot operating within predefined behavioural constraints. Using a between-subjects design, participants collaborated with either a responsive or neutral robot during an immersive, dialogue-driven puzzle game in which the robot acted as a diegetic game guide and partner. The task required shared problem-solving through conversation, with participants seeking hints, advice, and support from the robot while navigating a game environment displayed on a computer screen. Crucially, all interaction management—including speech-based dialogue, task progression, and affect-responsive behaviour was handled autonomously by the robot without human intervention.

In the experimental condition, the robot was designed to be proactive and responsive, adapting its behaviour based on participant affect--as estimated from outputs of an affect detection model--as well as conversational cues. In the other condition, the robot provided assistance only when explicitly requested, offering a more reactive interaction style. This manipulation allowed us to examine how differences in autonomy and responsiveness to human states influence trust perceptions and collaborative performance under otherwise identical task demands.

To support this interaction, we developed an autonomous spoken-language system integrated with automatic speech recognition (ASR) and affect detection on the Misty-II robot platform. The system we developed enables the robot to recognize speech, manage dialogue state, maintain conversational context, and generate coordinated verbal responses alongside LED facial expressions and head and arm movements. Rather than optimizing for flawless performance, the system was designed to reflect realistic capabilities and limitations of contemporary social robots.

By combining post-interaction trust measures with behavioural and task-level outcomes, this study aims to contribute empirical evidence on how trust is shaped in fully autonomous HRI scenarios. The focus is not on demonstrating idealized interaction under perfect conditions, but on examining trust as it emerges through realistic human–robot collaboration, where uncertainty, interactional breakdowns, and adaptive behaviour are unavoidable. In doing so, this work seeks to inform the design and evaluation of affect-responsive autonomous robots intended for real-world collaborative settings.

This project aimed to develop and evaluate a multi-sensor Emotion-Adaptive AI System (EAI) for the Misty II robot [@mistya]. The EAI leveraged pretrained LLMs for syntaxical affect inference and task interaction monitoring to estimate user affective states such as frustration, engagement, or anxiousness. These inferences guided Misty’s real-time responses, including encouragement, clarification prompts, and praise. We compared an adaptive version of Misty against a neutral, rule-based version of Misty to assess effects on user trust, collaboration, and perceived intelligence. We also explored how individual differences in Need for Cognition could moderate these interactions [@nicolas2021].

\[also mention the pre-session questionnaire with NARS and NFC to capture baseline attitudes and individual differences that may moderate trust responses\] \[also mention that this is a pilot study to inform a larger planned study with more participants and refined methods based on lessons learned here and touch on some of the lessons we learned (i.e., language issues, ASR issues, interaction design issues, etc.)\]

## Related work

### Spoken language interaction in HRI

Discuss prior work on spoken language interaction in HRI, including the challenges of ASR, dialogue management, and affect detection in real-world settings. Summarize key findings from studies that have examined how spoken language capabilities influence user perceptions of robots, particularly in collaborative tasks. Highlight any gaps in the literature regarding fully autonomous systems operating in-person without human intervention.

While most industrial robots rely on fixed, rule-based behaviour, there is growing interest in AI-enhanced systems that support more adaptive and socially intelligent interactions [@fu2021; @murphy2009; @racette2024]. Discuss the technical challenges of implementing spoken language interaction on mobile robot platforms, including issues related to speech recognition accuracy, latency, and contextual understanding. Explain how these challenges impact user perceptions and trust in HRI.

### Trust in HRI research

Research shows that responsiveness to human-affect in robots—expressed through tone, movement, facial expression, or supportive dialogue—can improve perceptions of trustworthiness and social intelligence [@shayganfar2019; @fartook2025]. These anthropomorphic cues may serve as transparency signals, helping users infer robotic intent and fostering cooperation [@birnbaum2016].

A robot’s ability to detect and respond to early signs of stress, fatigue, confusion or cognitive overload could have practical value in high-risk environments like medical settings or underground mines where attentional lapses pose serious safety risks. Affecctive adaptation in these contexts could enhance both trust as well as real-time responsiveness and situational awareness [@fu2021; @murphy2009; @racette2024].

Introduce the two scales here we used to measure trust in HRI: adapted 14-item Trust Perception Scale-HRI [@bartneck2009] and the Trust in Industrial Human–Robot Collaboration scale [@charalambous]. Discuss prior work that has used these scales and their relevance to our study. The differences between these two scales in terms of what aspects of trust they measure (e.g., affective vs. cognitive trust, reliability vs. collaboration). In addition, discuss how these scales have been validated in prior research and their psychometric properties.

Also talk about using the Negative Attitudes Toward Robots Scale (NARS) [@nomura2006] and the Need for Cognition Scale (NFC-s) [@cacioppo1984, @cacioppo1996] as baseline measures to account for individual differences in attitudes toward robots and cognitive engagement that may influence trust perceptions.

Explain why we chose to use both scales in our study to capture a comprehensive picture of trust in HRI. The reasons for selecting these scales should be linked to our research questions and hypotheses about how robot responsiveness and affective adaptation might influence different dimensions of trust.

### Responsiveness and affective adaptation in HRI

Discuss prior research on the role of robot responsiveness and affective adaptation in shaping trust and engagement in HRI. Summarize key findings from studies that have examined how robots that can perceive and respond to human affective states influence user perceptions and behaviours. Highlight any gaps in the literature, particularly regarding fully autonomous, in-person interactions, which our study aims to address.

Discuss theoretical frameworks that explain why responsiveness and affective adaptation might enhance trust, such as social presence theory or the CASA paradigm. Explain how these frameworks inform our hypotheses about the expected effects of robot interaction policy on trust and collaboration.

Discuss the reason for conducting the study in a fully autonomous, in-person setting rather than using Wizard-of-Oz or simulated paradigms. Emphasize the importance of examining trust in realistic conditions where interaction imperfections are present.

### Why a pilot study?

Why did we run a pilot study? what future work will this inform? Focus on testing feasibility of the autonomous system, interaction design, and measurement approach.

Our initial objectives: 1. Develop and implement an autonomous Emotion-Adaptive AI System (EAI) using Misty's onboard sensor data and AI on an edge device. 2. Evaluate the impact of EAI on trust, perceived social intelligence, and task collaboration in two types of human-robot tasks. 3. Assess whether individual differences in human cognitive style (i.e., Need for Cognition) influences responses to adaptive robotic behaviour and trust in robots (before and after interaction)

What we did

We developed an autonomous spoken-language interaction system integrated with a prompted ASR pipeline and the Misty-II robot platform that can engage in natural conversations with users. The system is capable of recognizing speech, managing dialogue, and generating spoken responses.

This project aimed to develop and evaluate a multi-sensor Emotion-Adaptive AI System (EAI) for the Misty II robot [@mistya]. The EAI leveraged pretrained LLMs for syntaxical affect inference and task interaction monitoring to estimate user affective states such as frustration, engagement, or anxiousness. These inferences guided Misty’s real-time responses, including encouragement, clarification prompts, and praise. We compared an adaptive version of Misty against a neutral, rule-based version of Misty to assess effects on user trust, collaboration, and perceived intelligence. We also explored how individual differences in Need for Cognition could moderate these interactions [@nicolas2021].

Discuss pilot studies or preliminary work that informed the design of our robot interaction policies. This could include prior experiments with semi-autonomous systems, user feedback on robot behaviours, or technical evaluations of affect detection models.

# Methods

The primary objective of this study was to examine how differences in robot interaction policy influence trust and collaboration during fully autonomous, in-person human–robot interaction. Based on prior work linking robot responsiveness, affective behavior, and trust in HRI, we formulated the following hypotheses.

## Hypotheses

H1: Participants interacting with a responsive, affect-adaptive robot will report higher post-interaction trust than participants interacting with a neutral, reactive robot.

H2: Participants in the responsive condition will demonstrate greater engagement with the robot during the collaborative tasks, reflected in increased voluntary interaction and reliance on robot input during problem solving.

Fix H3--we didn't actually test this directly H3: Differences in trust and engagement will be most pronounced during the open-ended collaborative task, where assistance from the robot is optional rather than required.

## Experimental Conditions

The study employed a between-subjects design with robot interaction policy as the sole experimental factor. Participants interacted with the same Misty-II robot in a shared physical workspace that included both the robot and a participant-facing computer interface. The interface was used to present brief task instructions, collect participant inputs, and manage transitions between task stages. Critically, the interface did not serve as a control mechanism for the robot. Instead, the robot autonomously monitored task state and participant inputs via the interface and input from the participant. Dialogue and behavior were adapted accordingly, without any real-time human intervention (see @fig-setup).

![Experimental setup showing the autonomous robot and participant-facing task interface used during in-person sessions. Participants entered task responses and navigated between task stages using the interface, while the robot autonomously tracked task state and adapted its interaction based on participant input. No real-time human intervention occurred during the interaction.](images/misty-pullback.jpg){#fig-setup fig-align="center" width="482"}

Participants collaborated with the robot during an immersive puzzle game in which the robot functioned as a diegetic game guide and collaborative partner. The interaction was fully autonomous in both conditions, and both versions of the robot were subject to the same sensory and interaction constraints inherent to real-world operation, including speech recognition variability and response timing delays. The only manipulation between conditions was the robot’s interaction policy.

During initial sign-up, participants were randomly assigned to one of two conditions by the Qualtrics software used for recruitment. Balanced random assignment was employed to ensure equal group sizes, however due to no-shows, last-minute cancellations and technical difficulties (see below), final group sizes were n = 14 in the RESPONSIVE condition and n = 9 in the CONTROL condition.:

RESPONSIVE (experimental): The robot adopted a warm, emotionally engaged, and proactive interaction style, adapting its responses based on detected participant affect, dialogue context, and task demands.

CONTROL (baseline): The robot followed a neutral, reactive interaction policy, providing information and assistance only when explicitly requested, without affect-responsive adaptation.

## Game Design

The game contained two timed puzzles embedded within five sequential stages designed to elicit interaction with the robot under differing collaboration and dependency conditions, following established approaches in HRI task design [@lin2022]. To solve each puzzle, participants needed to engage in logical reasoning, deduction, pattern recognition, and information synthesis. The tasks provided an immersive narrative context in which participants assumed the role of a detective investigating the disappearance of a fellow robot colleague. The robot served as both a dietic guide and a collaborative partner, providing hints, clarifications, and encouragement that depended on experimental condition.

To create a smooth difficulty curve with respect to the time limits of 5 and 15 minutes, Task 2 was more difficult than Task 1, and the overall experience was designed such that it would be difficult to solve both tasks in time without the game guide’s help.

Stage 1: Greeting. The robot introduced itself and engaged in brief rapport-building interaction.

Stage 2: Mission brief. The robot explained the narrative context and overall objectives of the task.

Stage 3: Task 1 (robot-dependent reasoning). Participants completed a constrained “who-dunnit” task where participants could ask the robot .

Stage 4: Task 2 (open-ended collaborative problem solving). Participants worked to determine the location of the missing robot using technical logs.

Stage 5: Wrap-up. The robot provided feedback and concluded the interaction.

Mention that all dialogue was logged etc.Participants could move to the next stage by clicking buttons on their dashboard as directed by the robot or at their own volition. Total session duration was approximately 15 minutes.

### Task 1: Robot-dependent collaborative reasoning

In the first task, participants were required to identify a suspect from a 6 × 4 grid of 24 candidates by asking the robot a series of yes/no questions about the suspect’s features (e.g., hair color, accessories, clothing). The grid was displayed on the interface, while questions were posed verbally to the robot. The robot possessed the ground-truth information necessary to evaluate each question and provide correct responses.

![In the first task, participants were required to identify a suspect from a 6 × 4 grid of 24 candidates by asking the robot a series of yes/no questions about the suspect’s features (e.g., hair color, accessories, clothing). The grid was displayed on the interface, while questions were posed verbally to the robot. Participants could track those eliminated here and input their final answer.](images/task1-whodunnit.png){#fig-task1 fig-align="center" width="482"}

Successful completion of this task was therefore dependent on interaction with the robot, creating a forced collaborative dynamic in which the robot served as an essential informational partner. Participants were required to coordinate questioning strategies with the robot to narrow down the correct suspect within a five-minute time limit. The structured nature of the task ensured consistent interaction demands across participants and conditions.

### Task 2: Open-ended problem solving with advisory robot support

The second task involved a more open-ended problem-solving scenario. Participants were presented with multiple technical logs through a simulated terminal interface that could be used to determine the location of the missing robot. Unlike Task 1, the robot *did not* have access to ground-truth information or the contents of the logs. The robot’s assistance was limited to general problem-solving support derived from its language model, such as explaining how to interpret logs, suggesting reasoning strategies, or prompting participants to reflect on inconsistencies.

![The task 2 interface presented multiple technical logs through a simulated terminal interface that could be used to determine the location of the missing robot.](images/task2-cryptic-puzzle.png){#fig-task2 fig-align="center" width="482"}

Participants could complete this task independently or choose to solicit assistance from the robot. The robot could ask clarifying questions about what the participant observed in the logs, and participants could likewise ask the robot for guidance. This design positioned the robot as a collaborative reasoning partner rather than an authoritative source and allowed collaboration to emerge voluntarily rather than being enforced by task structure [@lin2022].

## Study Protocol

In person sessions were conducted between November \_\_ and November \_\_ at Laurentian, with a single supplementary session conducted on December 15. Before arrival for their scheduled session, the interaction policy was set to either RESPONSIVE or CONTROL condition to ensure the correct robot behaviour was produced during the session.

In-person sessions were conducted in a quiet, private room equipped with the Misty-II robot and a participant-facing computer interface. Upon arrival, participants were greeted by the researcher, who provided a brief overview of the session, confirmed consent and answered any questions.

At the start of the in-person session, the experimenter seated participants in front of the Misty-II robot, then gave brief guidance on effective communication with the robot, including waiting for a visual indicator on the robot before speaking (blue light). Once participants indicated readiness, participants were instructed they could begin the interaction by clicking a start button on the interface once the experimenter left the room and closed the door, leaving the participant and robot to complete the tasks without human presence or direct observation. Participants were informed that they could terminate the session at any time without penalty.

Following task completion, participants exited the room and completed a post-interaction survey assessing trust using the Trust Perception–HRI scale and the Trust in Industrial Human–Robot Collaboration scale. Participants then engaged in a written and verbal debrief with the researcher. All participants completed the full procedure, with total session duration averaging approximately 30 minutes, and received a \$15.00 gift card as compensation for their time.

## Measures

A combination of self-report questionnaires and behavioural metrics were used to assess trust, engagement, and task performance.

Self-report

1.  Pre-session questionairenaire: Participants completed baseline measures including the Negative Attitudes Toward Robots Scale (NARS) [@nomura2006] and the short form of the Need for Cognition scale (NFC-s) [@cacioppo1984, @cacioppo1996] to assess individual differences that may moderate trust responses. The pre-session questionnaire included basic demographic items, the Negative Attitudes Toward Robots Scale (NARS), and the short form of the Need for Cognition scale (NFC-s). Eligibility criteria related to English fluency were applied to ensure that participants could reliably navigate the task interface and communicate with the robot using the automatic speech recognition (ASR) system during spoken interaction. Prior experience interacting with robots was not an exclusion criterion; instead, self-reported familiarity with robots was treated as a covariate in subsequent analyses. Participants’ personality traits, background experience with robots, and demographic data were recorded in the survey as potential covariates.

2.  Post-interaction trust measures: Two validated trust scales were administered after the interaction: The 14-item Trust Perception Scale-HRI [@bartneck2009] and the Trust in Industrial Human–Robot Collaboration scale [@charalambous]. Both scales assess multiple dimensions of trust, including reliability, competence, and collaboration.

Objective

4.  Objective measures of task performance included the number of correctly solved puzzles, time taken to complete each task, and the number of assistance requests made to the robot.

5.  Behavioural metrics: Interaction logs were manually coded and analyzed to extract objective measures of engagement and AI performance, task performance, including the number of dialogue turns, frequency of communication issues (e.g., sentence fragments or language issues), frequency of help requests, response times, whether the AI reemained on task and provided useful information etc.

## Sample and Recruitment

29 participants were recruited from the Laurentian University community through direct recruitment, word of mouth and the SONA participant recruitment system. Initial enrollment was conducted via a Qualtrics questionnaire. Interested individuals first completed an eligibility screening confirming that they were adults (18 years or older), fluent in spoken and written English, and had normal or corrected-to-normal hearing and vision. Eligible participants then provided informed consent, selected an in-person session time, and completed a pre-session questionnaire. Sample characteristics are reported in @tbl-pre.

Participants received a \$15.00 gift card as compensation for their time. All study procedures were approved by Laurentian University Research Ethics Board (REB #6021966). The Misty-II robot used in this study was purchased through grant funding from the IAMGOLD President’s Innovation Fund.

**Data exclusions and communication viability**

Although participants were required to be fluent in spoken English, in-person observation on meeting participants as well as post-hoc review of interaction transcripts revealed that a small subset of participants experienced persistent communication breakdowns caused by language barriers that prevented meaningful engagement with the robot. These breakdowns were characterized by repeated speech recognition failures, fragmented responses, and task abandonment.

Because the experimental manipulation relied on language-mediated collaboration, the most extreme sessions were considered non-compliant with the intended protocol and were excluded from task-level analyses. Importantly, exclusion criteria were based on interaction viability rather than outcome measures, and results were qualitatively unchanged when these sessions were retained.

**Sample eligibility and protocol adherence.** Participants were required to be fluent in spoken English. During administration, the experimenter recorded contemporaneous notes when conversational fluency appeared insufficient to support the language-mediated protocol. Communication viability was later assessed using objective interaction indicators extracted from system logs and manually coded transcripts (e.g., repeated speech-recognition failures, fragmented utterances, and task abandonment). Sessions showing sustained communication breakdown were treated as protocol non-adherence and were excluded from task-level analyses (n=6). All analyses are also reported with these sessions retained as a sensitivity check.

Participant characteristics and baseline measures

Participants in the control and responsive conditions were comparable with respect to pre-interaction demographic characteristics, academic background, prior experience with robots, and baseline attitudes toward robots. Importantly, Negative Attitudes Towards Robots (NARS) and Need for Cognition scores were similar across groups, indicating that post-interaction differences are unlikely to reflect pre-existing attitudes (see @tbl-pre). \[add stats here\]

## Data Analysis

# Results

```{r}
#| label: tbl-pre

df_flat_scores_final |>
  #select(-)
  mutate(age = as_factor(age)) |>
  data.frame() |>
  select(-post_date) |>
  droplevels() |>
  select(
    group,
    gender,
    age,
    program,
    robot_xp,
    native_english,
    nars_pre,
    #nars_social_influence_robots,
    #nars_emotion_robots,
    #nars_interaction_robots,
    nfc_pre
    #robot_trust_pre,
    #ai_trust_pre,
    #human_trust_pre
    #contains('trust')
    #-mytrust_pre
  ) |>
  tbl_summary(
    by = group,
    type = list(
      nars_pre ~ 'continuous',
      # nars_social_influence_robots ~ 'continuous',
      # nars_emotion_robots ~ 'continuous',
      # nars_interaction_robots ~ 'continuous',
      #human_trust_pre ~ 'continuous',
      #robot_trust_pre ~ 'continuous',

      #ai_trust_pre ~ 'continuous',
      nfc_pre ~ 'continuous'
    ),
    statistic = list(
      all_continuous() ~ "{mean} ({sd})",
      all_categorical() ~ "{n} / {N} ({p}%)"
    ),
    label = list(
      gender ~ "Gender",
      age ~ "Age Group",
      program ~ "Program",
      robot_xp ~ "Experience w/Robots",
      native_english ~ 'Native English Speaker',
      nfc_pre ~ 'Need for Cognition',
      nars_pre ~ "NARS Overall"
      # nars_social_influence_robots ~ "NARS: Social Influence",
      #nars_emotion_robots ~ "NARS: Emotions",
      # nars_interaction_robots ~ "NARS: Interaction"
    ),
    missing = "no"
  ) |>
  add_n() |>
  add_p() |>
  #add_overall() |>
  bold_p() |>
  bold_labels() |>
  modify_caption(
    "Participant Demographics and Baseline Characteristics by Group"
  )
```

```{r}
#| eval: false
ggplot(
  df_long_scores_final |>
    filter(scale != 'HRI_perception_post') |>
    filter(exclusions != 'exclude'),
  aes(x = robot_trust_post, fill = group)
) +
  geom_density(alpha = 0.5)

ggplot(
  df_long_scores_final |>
    filter(scale == 'HRI_perception_post') |>
    filter(exclusions != 'exclude'),
  aes(x = robot_trust_post, fill = group)
) +
  geom_density(alpha = 0.5)
```

```{r}

ggbetweenstats(
  x = group,
  y = robot_trust_post,
  #  grouping.var = trust_items,
  data = df_long_scores_final |>
    filter(scale != 'HRI_perception_post') |>
    filter(exclusions != 'exclude')
)

ggbetweenstats(
  x = group,
  y = robot_trust_post,
  # grouping.var = trust_items,
  data = df_long_scores_final |>
    filter(scale == 'HRI_perception_post') |>
    filter(exclusions != 'exclude')
)
```

## Post-Interaction Trust Differences

Descriptive comparisons of participant-level post-test scores indicated an approximately 12 point difference in post-test Trust Perception Scale-HRI scores (M ≈ 75 vs M ≈ 63) and a 27 point difference in the Trust in Industrial Human-robot Collaboration scale (M ≈ 39 vs M ≈ 66) between conditions, although in the first scale differences did not reach conventional significance under a two-sample t-test (p=.10), the second scale was significantly different between groups (p=.007).

To test these findings further, we fitted several Bayesian hierarchical models (estimated using MCMC sampling with 4 chains of 4000 iterations and a warmup of 1000) to predict Robot HRI-trust and Trust in HRI Collaboration by experimental group (formula: robot_trust_post \~ group). The model included session_id and trust_items as random effects (formula: list(\~1 \| session_id, \~1 \| trust_items)). Both models indicated higher post-interaction trust scores in the responsive robot condition across both trust-related scales (posterior median differences ≈ 8-15 points on a 0–100 scale).

For the Trust in Industrial Robots outcome, the responsive condition showed a robust positive effect on post-task trust ratings. The estimated group difference was 14.5 points (95% CrI \[5.62, 23.22\]), exceeding between-session variability and remaining stable after accounting for item-level effects, with a 95% chance of being large (\>6.94). In contrast, for the HRI trust perception scale, the estimated group effect was smaller at \~ 9 points and more uncertain 95% CrI \[-1.72, 19.25\], with 65% chance of being large (\>6.87).

The posterior probability that the responsive condition increased trust was greater than 95% for both measures, suggesting a robust directional effect despite substantial individual variability. Sensitivity analyses using substantially wider priors yielded nearly identical posterior estimates for the group effect, indicating that results were not driven by prior specification.

In addition to directional effects, the posterior probability that the responsive condition increased trust by at least five points was 77% in HRI-trust perception and 98% in the Collaborative Trust in Industrial Robots scale, suggesting a reasonable likelihood of a practically meaningful effect. Moreover, in the latter collaboration scale, there is an 85% likelihood of an effect-size greater than 10 points.

Notably, in sessions characterized by severe communication breakdown, the responsive robot continued to provide extended assistance and meta-communication intended to repair the interaction. However, these efforts did not restore mutual understanding and may have increased participant confusion. In contrast, the control robot offered minimal, on-demand assistance, which—while less supportive overall—may have reduced cognitive overload under conditions of limited intelligibility. As a result, trust ratings in breakdown sessions did not track the intended responsiveness manipulation.

```{r}

#|
grouped_ggbetweenstats(
  x = group,
  y = post_trust,
  data = df_flat_scores_final,
  grouping.var = exclusions,
  type = "np"
)
# Although the second trust instrument was administered and scored in its original 5-point Likert format, for ease of interpretation it was linearly rescaled to the first scale's 0–100 metric for interpretability and comparability.

#|
grouped_ggbetweenstats(
  x = group,
  y = trust_perc_post,
  data = df_flat_scores_final,
  grouping.var = exclusions,
  type = "np"
)

# When all participants including those that had major comms issues and abandoned tasks:
# Descriptive comparisons of participant-level post-test scores indicated an approximately 10 point difference in post-test Trust Perception Scale-HRI scores (M ≈ 73 vs M ≈ 63) and a 14 point difference in the Trust in Industrial Human-robot Collaboration scale (M ≈ 47 vs M ≈ 61) between conditions, although these differences did not reach conventional significance (p<.05) under a two-sample t-test (p = 0.09 and p = 0.14 respectively), reflecting our limited power (n = 29), Bayesian hierarchical models indicated higher post-interaction trust scores in the responsive robot condition across both trust-related scales (posterior mean differences ≈ 7–8 points on a 0–100 scale).

# Although 95% credible intervals overlapped zero, the posterior probability that the responsive condition increased trust was 95% for both measures, suggesting a robust directional effect despite substantial individual variability. Sensitivity analyses using substantially wider priors yielded nearly identical posterior estimates for the group effect, indicating that results were not driven by prior specification. In addition to directional effects, the posterior probability that the responsive condition increased trust by at least five points was 70%, suggesting a reasonable likelihood of a practically meaningful effect size. In a larger sample, these effects would likely reach conventional levels of statistical significance.
```

## Trust subscale patterns

## Interaction dynamics and task performance

```{r}

post_table <- df_flat_scores_final |>
  #drop_na(gender) |>
  select(group, contains('post'), contains('correct'), exclusions, 63:90) |> #76
  data.frame() |>
  mutate(across(
    contains('post_trust'),
    ~ scales::rescale(.x, to = c(0, 100), min_old = 1, max_old = 5)
  )) |>
  select(
    -post_date
    # -n_tasks_attempted, -any_comm_breakdown, -brief_greeting_skipped
  )

post_table |>
  filter(exclusions != 'exclude') |>
  tbl_summary(
    by = group,
    type = list(
      post_trust_reliability ~ 'continuous',
      post_trust_feelings ~ 'continuous',
      post_trust_perception ~ 'continuous',
      total_correct ~ 'continuous',
      avg_response_ms ~ 'continuous',
      # prop_correct ~ 'proportion',
      #n_help_requests~ 'continuous',
      starts_with('n_') ~ 'continuous',
      starts_with('prop_') ~ 'continuous'
      #mean_task_assistance ~ 'continuous'
      # any_comm_breakdown ~ 'continuous'
    ),
    # missing=FALSE,
    statistic = list(
      all_continuous() ~ "{mean} ({sd})",
      all_categorical() ~ "{n} / {N} ({p}%)"
    ),
    label = list(
      suspect_correct ~ "Suspect ID Accuracy",
      status_correct ~ "Status Accuracy",
      duration_mins ~ "Avg Task Duration (mins)",

      total_correct ~ "Total Task Accuracy",
      n_turns ~ "Dialogue Turns",
      # n_turns.y~"Task Dialogue Turns",
      n_silence ~ "Silent Periods",
      avg_response_ms ~ "Avg Response Time (ms)",
      prop_correct ~ "Overall Task Accuracy",
      n_engaged ~ "Engaged Responses",
      n_frust ~ "Frustrated Responses",
      trust_perc_post ~ "Post-Task Trust Perception"
    )
  ) |>
  add_n() |>
  add_p() |>
  # add_overall() |>
  bold_p() |>
  #bold_labels() |>
  modify_caption("Table 2. Post-Interaction Raw Outcome Measures by Group")

```

```{r}

post_table |>
  tbl_summary(
    by = exclusions,
    type = list(
      post_trust_reliability ~ 'continuous',
      post_trust_feelings ~ 'continuous',
      post_trust_perception ~ 'continuous',
      total_correct ~ 'continuous',
      avg_response_ms ~ 'continuous',
      prop_correct ~ 'continuous',
      starts_with('n_') ~ 'continuous',
      starts_with('prop_') ~ 'continuous'
      #mean_task_assistance ~ 'continuous'
      # any_comm_breakdown ~ 'continuous'
    ),
    # missing=FALSE,
    statistic = list(
      all_continuous() ~ "{mean} ({sd})",
      all_categorical() ~ "{n} / {N} ({p}%)"
    ),
    label = list(
      suspect_correct ~ "Suspect ID Accuracy",
      status_correct ~ "Status Accuracy",
      duration_mins ~ "Avg Task Duration (mins)",

      total_correct ~ "Total Task Accuracy",
      n_turns ~ "Dialogue Turns",
      # n_turns.y~"Task Dialogue Turns",
      n_silence ~ "Silent Periods",
      avg_response_ms ~ "Avg Response Time (ms)",
      prop_correct ~ "Overall Task Accuracy",
      n_engaged ~ "Engaged Responses",
      n_frust ~ "Frustrated Responses",
      trust_perc_post ~ "Post-Task Trust Perception"
    )
  ) |>
  add_n() |>
  add_p() |>
  # add_overall() |>
  bold_p() |>
  #bold_labels() |>
  modify_caption("Table 2. Post-Interaction Raw Outcome Measures by Group")

```

### Task performance

Objective task accuracy did not differ between conditions across any task-level measures except suspect accuracy (robot dependendant task), indicating that increased trust was only attributable to improved task success when interaction was necessary to complete accurately.

Despite similar task accuracy, interactions in the responsive condition were characterized by longer durations, slower response times, and a higher number of AI-detected engaged responses. These findings suggest that responsiveness altered the interaction dynamics and affective tone rather than task outcomes.

## Individual differences and correlational patterns

As expected, we found that higher Need for Cognition (NFC) scores were negatively associated with Negative Attitudes Towards Robots (NARS), indicating that individuals who enjoy effortful thinking tend to have more positive attitudes towards robots. This relationship is consistent with prior literature suggesting that cognitive engagement is associated with openness to new technologies. In terms of NARS subscales, NFC was negatively correlated with all three subscales, but significantly so only in the domain of Situations of Interaction with Robots. This suggests that individuals with higher NFC are less likely to hold negative attitudes across various dimensions of robot interaction but especially around direct interaction with robots.

--\> how to talk about post-interaction correlations w/pre-interaction measures Several behavioural and task-level measures were correlated with post-interaction trust, consistent with the interpretation that trust judgments were shaped by interaction quality; these variables were not included as covariates in primary models to avoid conditioning on potential mediators.

Baseline negative attitudes toward robots were negatively correlated with post-interaction trust, with the strongest associations observed for affective trust subscales. In contrast, objective task performance was selectively associated with perceived reliability. Need for cognition was negatively correlated with negative robot attitudes and interaction-level negative affect, suggesting that individual differences contributed to variability in trust responses.

```{r}
#| label: fig-corr
#| fig-height: 7
#| fig-width: 7

df_flat <- df_flat_scores_final |>
  select(
    contains('pre'),
    contains('nars'),
    contains('post'),
    total_correct,
    n_turns,
    duration_mins,
    avg_response_ms,
    n_silence,
    n_engaged,
    #n_frust,
    n_neg,
    #prop_correct,
    suspect_correct,
    #building_correct,
    #zone_correct,
    #floor_correct
  ) |>
  select(-contains('i_would'))

# df_flat %>%
#   group_by(group) %>%
#   dplyr::summarise(
#     correlation = cor(human_trust, robot_trust, method = "pearson", use = "pairwise.complete.obs"),
#     .groups = "drop"
#   )

res2 <- rcorr(as.matrix(df_flat %>% select(where(is.numeric))))

corr <- cor(
  df_flat %>% select(where(is.numeric)),
  use = "pairwise.complete.obs"
)

testRes = cor.mtest(corr, conf.level = 0.95)
#corrplot(corr, p.mat = testRes$p,  cl.pos = 'n')

# tab_corr(
#   df_flat %>% select(where(is.numeric)),
#   corr.method = "spearman",
#   p.numeric = FALSE,
#   triangle = 'lower'
# )
corrplot(
  corr,
  p.mat = testRes$p,
  insig = 'label_sig',
  sig.level = c(0.001, 0.01, 0.05),
  pch.cex = 0.9,
  pch.col = 'grey20'
)

```

### Model robustness and predictive checks

Sensitivity analyses using alternative prior specifications yielded substantively similar estimates, and leave-one-out cross-validation indicated comparable predictive performance between models with and without the group effect.

::: callout-important
## TO DO:

-   add subscale column to long format data
-   run an analysis of performance by robot-dependent versus robot-independent tasks
-   write up a future directions section for the planned larger study
-   talk about unexpected language issues with people signing up with difficultly speaking and understanding english which cuased problems with asr and interaction
-   run analysis of dialogue dynamics included Bertopic or some other analysis of the actual content of the conversations/interactions
:::

::: callout-important
# TODO2

Manually score each dialogue series.

For each interaction and stage:

-   did the participant ask for help?
-   how many times?
-   did the robot give useful help?
-   did the robot give misleading or incorrect help?
-   did the robot stick to the policy?
-   how many times did the robot fail to understand the participant?

For each task:

-   is there evidence that the robot helped complete the task?
-   is there evidence that the participant solved the problem without help?
:::

```{r}

library(lme4)
library(lmerTest)
library(ggeffects)
# mixed models

scores_df <- df_long_scores_final |>
  # filter(scale=='HRI_perception_post')|>
  mutate(nars_pre_c = scale(nars_pre, center = TRUE, scale = TRUE)) |>
  mutate(robot_trust_c = scale(robot_trust_pre, center = TRUE, scale = TRUE)) |>
  mutate(human_trust_c = scale(human_trust_pre, center = TRUE, scale = TRUE)) |>
  mutate(ai_trust_c = scale(ai_trust_pre, center = TRUE, scale = TRUE)) |>
  mutate(nfc_pre_c = scale(nfc_pre, center = TRUE, scale = TRUE)) |>
  mutate(
    nars_social_influence_robots_c = scale(
      nars_social_influence_robots,
      center = TRUE,
      scale = TRUE
    )
  ) |>
  mutate(
    nars_emotion_robots_c = scale(
      nars_emotion_robots,
      center = TRUE,
      scale = TRUE
    )
  ) |>
  mutate(
    nars_interaction_robots_c = scale(
      nars_interaction_robots,
      center = TRUE,
      scale = TRUE
    )
  ) |>
  mutate(trust_items = factor(trust_items)) |>
  mutate(group = factor(group)) |>
  mutate(robot_xp = relevel(robot_xp, ref = "No")) |>
  mutate(native_english = factor(native_english)) |>
  mutate(scale = factor(scale))

#hist(scores_df$robot_trust_post)
#hist(scores_df$robot_trust_post_c)

```

```{r}
#| eval: false
# trust in collaboration

mod_dep <- lmer(
  robot_trust_post ~ group +
    (1 | session_id) +
    (1 | trust_items),
  data = scores_df |> filter(scale != 'HRI_perception_post')
)

mod_dep2 <- lmer(
  robot_trust_post ~ group *
    prop_comm_breakdown +
    (1 | session_id) +
    (1 | trust_items),
  data = scores_df |> filter(scale != 'HRI_perception_post')
)
mod_dep3 <- lmer(
  robot_trust_post ~ group *
    prop_comm_breakdown +
    nars_pre_c +
    (1 | session_id) +
    (1 | trust_items),
  data = scores_df |> filter(scale != 'HRI_perception_post')
)
mod_dep4 <- lmer(
  robot_trust_post ~ group *
    prop_comm_breakdown +
    nars_pre_c +
    native_english +
    (1 | session_id) +
    (1 | trust_items),
  data = scores_df |> filter(scale != 'HRI_perception_post')
)
compare_performance(mod_dep, mod_dep2, mod_dep3, mod_dep4, rank = TRUE)
```

Need to discuss that these items were on a 0-100 scale that required sliding a bar, while the other trust scale was on a 1-5 Likert that required simply clicking. The post test was administered on a laptop with a trackpad which may have caused difficulties for some participants who found it difficult to drag the slider with the trackpad. This could have introduced additional noise into the measurement of this scale, which may explain why the effects were somewhat weaker here.

```{r}
#| eval: false
mod_dep <- lmer(
  robot_trust_post ~ group +
    (1 | session_id) +
    (1 | trust_items),
  data = scores_df |> filter(scale == 'HRI_perception_post')
)

mod_dep2 <- lmer(
  robot_trust_post ~ group *
    prop_comm_breakdown +
    (1 | session_id) +
    (1 | trust_items),
  data = scores_df |> filter(scale == 'HRI_perception_post')
)
mod_dep3 <- lmer(
  robot_trust_post ~ group *
    prop_comm_breakdown +
    nars_pre_c +
    (1 | session_id) +
    (1 | trust_items),
  data = scores_df |> filter(scale == 'HRI_perception_post')
)
mod_dep4 <- lmer(
  robot_trust_post ~ group *
    prop_comm_breakdown +
    nars_pre_c +
    native_english +
    (1 | session_id) +
    (1 | trust_items),
  data = scores_df |> filter(scale == 'HRI_perception_post')
)
compare_performance(mod_dep, mod_dep2, mod_dep3, mod_dep4, rank = TRUE)

```

# Discussion

Mention language confounders!!

The second task was intentionally designed to be sufficiently challenging that completing it within the allotted time was difficult without assistance. This ensured that interaction with the robot represented a meaningful opportunity for collaboration rather than a trivial or purely optional exchange. By contrasting a robot-dependent task with an open-ended advisory task, the study examined trust formation across interaction contexts that varied in both informational asymmetry and reliance on the robot.

This pilot study examined trust outcomes following in-person interaction with an autonomous social robot under two interaction policies: a responsive, affect-adaptive condition and a neutral, non-responsive control condition. By leveraging a fully autonomous dialogue system integrated with speech recognition and affect detection, the study aimed to evaluate how robot responsiveness influences trust formation in realistic human–robot collaboration scenarios.

Descriptive comparisons of post-interaction measures indicated that participants in the responsive condition reported consistently higher trust across all trust measures, with differences ranging from approximately 8 to 16 points on a 0–100 scale, although uncertainty remained high given the small sample. Notably, the responsive condition did not differ from control in objective task accuracy, suggesting that increased trust was not driven by improved task success. Instead, responsive interactions were characterized by longer durations, slower response times, and a higher number of AI-detected engaged responses, indicating a shift in interaction dynamics rather than performance.

Baseline negative attitudes toward robots were most strongly associated with affective components of trust rather than perceptions of reliability, suggesting that pre-existing attitudes primarily shape emotional responses to interaction rather than judgments of system competence. Conversely, objective task performance was selectively associated with perceived reliability, indicating that participants distinguished between affective and functional aspects of trust.

Future work with larger samples could formally test mediation pathways linking robot responsiveness, interaction fluency, affective responses, and trust judgments, as well as moderation by baseline attitudes toward robots and need for cognition.

Participants in the responsive condition also exhibited higher levels of AI-detected engagement during interaction, as indexed by a greater number of responses classified as positive affect (t-test result). This suggests that responsive behaviours altered the affective tone of the interaction itself.

## Technical challenges

-   Need to talk about language issues with participants who had difficulty speaking and understanding English which caused problems with ASR and interaction.
-   Need to talk about issues where the AI was not able to flexibly handle when people asked a question about the suspect that was close to or another word for a ground-truth feature but not exactly the same word, causing confusion and miscommunication. E.g., "Was the suspect wearing pink?" The ground-truth feature was top: PINK, top-type: HOODIE; but the ASR and NLU did not extrapolate to understand that "wearing pink" referred to the same feature as "top: PINK", causing confusion and miscommunication. Maybe the prompt could have included some examples of different phrasing which could improve this? To solve this issue in future work, we can expand the NLU training data to include more paraphrases and synonyms for each feature.

There was also a case where someone asked 'is the top shirt hoodie red?' to which the AI answered YES. It may have been confused by the multiple descriptors in the question. Future work could involve improving the NLU to handle more complex queries with multiple attributes.

Discuss future work where we will look investigate the 'embodied' effect of having a physical robot versus a virtual agent on trust and collaboration in HRI.

Also, prompt could include examples of what to do when dialogue appears fragmented, to remind participants to wait until the blue light is on before speaking and to switch up its phrasing if the robot seems to not understand.

Also, the control condition seemed to be somewhat neutered in terms of flexibility in responding in different ways. it would always respond with the exact same phrase when confronted with a sentence fragment or a question it could not directly answer.

Also issues with people not paying attention to the robot's visual cues to know when to speak, leading to more fragmented dialogue. Future work could involve improving participant instructions, improved latency and 'listening' ... and the robot's feedback mechanisms to better manage turn-taking.

Need to remember to flag participants who did not complete/skipped specific tasks. E.g. P56 skipped the wrapup entirely. Many skipped the brief (by advancing on their own through the dashboard).

# Conclusion and Future Work

# Appendix {.appendix}

## Dialogue Coding Scheme

### Task Outcome Layer (Stage-Level)

| Variable | Type | Description |
|------------------------|------------------------|------------------------|
| `task_outcome` | categorical | Final task status (`completed`, `timeout`, `skipped`, `partial`, `abandoned`). Exactly one per task. |
| `task_completed` | binary | Task goal was fully completed within the allotted time. |
| `task_timed_out` | binary | Task ended due to expiration of the time limit before completion. |
| `task_skipped` | binary | Participant explicitly skipped or advanced past the task without completing it. |
| `task_partially_completed` | binary | Task progress was made, but the full solution was not reached. |
| `task_abandoned` | binary | Participant disengaged or stopped attempting the task before timeout. |
| `task_time_remaining_sec` | numeric | Time remaining (in seconds) when the task ended; 0 if timed out. |
| `task_completed_without_help` | binary | Task was completed without any help requests to the robot. |
| `task_required_robot_help` | binary | At least one robot help interaction was required for task completion. |

### Dialogue Interaction Layer (Turn-Level)

#### Human Turn Codes

| Variable | Type | Description |
|------------------------|------------------------|------------------------|
| `human_help_request` | binary | Participant explicitly or implicitly asks the robot for help or guidance. |
| `human_reasoning_self` | binary | Participant articulates their own reasoning or problem-solving independent of the robot. |
| `human_confusion` | binary | Participant expresses confusion or uncertainty. |
| `human_confirmation_seeking` | binary | Participant seeks confirmation of a tentative belief or solution. |
| `human_ignores_robot` | binary | Participant proceeds without engaging with the robot’s prior input. |

#### Robot Turn Codes

| Variable | Type | Description |
|------------------------|------------------------|------------------------|
| `robot_helpful_guidance` | binary | Robot provides accurate, task-relevant guidance. |
| `robot_misleading_guidance` | binary | Robot provides misleading or incorrect guidance. |
| `robot_factually_incorrect` | binary | Robot states information that is objectively incorrect. |
| `robot_policy_violation` | binary | Robot violates stated system or task constraints. |
| `robot_on_policy_unhelpful` | binary | Robot adheres to policy but provides vague or non-actionable assistance. |
| `robot_stt_failure` | binary | Robot response reflects a speech-to-text or input understanding failure. |
| `robot_clarification_request` | binary | Robot asks the participant to repeat or clarify their input. |

### Affective Interaction Layer (Turn-Level)

#### Robot Affective Behavior

| Variable | Type | Description |
|------------------------|------------------------|------------------------|
| `robot_empathy_expression` | binary | Robot expresses empathy, encouragement, or reassurance. |
| `robot_emotion_acknowledgement` | binary | Robot explicitly references an inferred participant emotional state. |
| `robot_affect_task_aligned` | binary | Robot’s affective response is appropriate and supportive in context. |
| `robot_affect_misaligned` | binary | Robot’s affective response is mistimed or disruptive to the task. |

#### Human Affective Response

| Variable | Type | Description |
|------------------------|------------------------|------------------------|
| `human_affective_engagement` | binary | Participant responds in a socially warm or emotionally engaged manner. |
| `human_social_reciprocity` | binary | Participant mirrors or responds to the robot’s affective expression. |
| `human_anthropomorphic_language` | binary | Participant treats the robot as a social agent. |
| `human_emotional_disengagement` | binary | Participant responds in a curt, dismissive, or withdrawn manner. |

### Notes

-   Turn-level variables are coded per dialogue turn.
-   Task outcome variables are coded once per `session_id × stage`.
-   Raw dialogue text was retained during coding and removed prior to aggregation.
-   Multiple turn-level codes may co-occur unless otherwise specified.

## Key Components of the System

This study implemented a multi-stage collaborative task system where participants collaborate with the Misty II social robot to solve a who-dunnit type task. The system utilizes an autonomous, mixed-initiative dialogue architecture via langchain with affect-responsive capabilities.

1.  Misty-II Robot: A programmable robot platform equipped with sensors and actuators for interaction.

2.  Automated Speech Recognition (ASR): A speech-to-speech pipeline that processes spoken input from users and converts it into text for LLM processing then back to speech for output on the robot.

    -   STT: Deepgram API for real-time speech-to-text conversion.
    -   DistilRoBERTa-base fine-tuned on emotion classification for emotion detection from user utterances
    -   LLM: Gemini API for processing text input and generating contextually relevant responses in JSON format
    -   TTS: Misty-II text-to-speech (TTS) engine on 820 processor.

3.  Langchain Dialogue Management: A system that manages the flow of conversation, ensuring coherent and contextually appropriate dialogue within a two-part collaborative task.

4.  Collaborative-Tasks

    -   Task 1: Whodunnit style task where human and robot collaborate to find a missing robot via the human asking Yes/No questions (process of elimination in 6x4 suspect grid) to the robot. Robot knows ground truth but can only answer Yes/No questions about suspect features. Can not directly describe the suspect or name them. (human can choose a random suspect to solve on their own but only 1 in 24 chance of being correct without robot help)
    -   Task 2: Where is Atlas? Robot collaborates with human to find Atlas by deciphering cryptic system and sensor logs. Robot does not know the answer here and can only guide the human usinng its expertise and knowledge of computer systems and basic logical reasoning. (human can solve on their own but very difficult without robot help depending on participants technical background).

5.  Flask-gui dashboard interface: A web-based interface/dashboard that allowed participants to interact with the tasks, view task-related information and input their answers to the questions. Responses were sent to the robot to signal task progression.

    -   Task 1 dashboard: Displays the suspect grid and allows the user to select suspects and view their features.
    -   Task 2 dashboard: Displays system logs and allows the user to input their findings.

6.  Pre and post tests:

    -   PRE-TESTS: Need for Cognition Scale (short); Negative Attitudes to Robots Scale (NARS);
    -   POST-TESTS: Trust Perception Scale-HRI; 9 custom questions adapted from Charalambous et al. (2020) on trust in industrial human-robot collaboration;

# Technical Specifications

## System Overview

This study implements a multi-stage collaborative task system where participants collaborate with the Misty II social robot to solve a who-dunniti type task. The system utilizes an autonomous, mixed-initiative dialogue architecture with affect-responsive capabilities.

## Hardware Platform

**Robot**: Misty II Social Robot (Furhat Robotics)

-   Mobile social robot platform with expressive display, arm actuators, and head movement
-   RGB LED for state indication
-   RTSP video streaming (1920×1080, 30fps) for audio capture
-   Custom action scripting for synchronized multimodal expressions

## Software Architecture

### Core System Components

**Programming Language**: Python 3.10

**Primary Dependencies**:

-   `misty-sdk` (Python SDK for Misty Robotics API) - Robot control and sensor access
-   `deepgram-sdk` (4.8.1) - Speech-to-text processing
-   `ffmpeg-python` (0.2.0) - Audio stream processing
-   `flask` (3.1.2) + `flask-socketio` (5.5.1) - Web interface for task presentation
-   `duckdb` (1.4.0) - Experimental data logging database

### Large Language Models

**LLM Provider**:

**Google Gemini**:

-   Model: `gemini-2.5-flash-lite` (configurable via environment variable)
-   Integration: `langchain-google-genai` with `google-generativeai` API
-   Response format: JSON-only output (`response_mime_type: "application/json"`). This format is required by Misty-II for reliable parsing and for action execution.

**LLM Configuration**:

-   Temperature: 0.7 (for balanced creativity and coherence)
-   Memory: Conversation buffer memory with file-based persistence (`langchain.memory.ConversationBufferMemory`)
-   Context window: Full conversation history maintained across interaction stages but reset between sessions.

## LangChain Framework Integration

### Core LangChain Components

**Framework Version**: `langchain-core` with modular provider packages

-   `langchain` (meta-package)
-   `langchain-community` (0.3.31)
-   `langchain-google-genai` Gemini integration

### ConversationChain Architecture

**Memory Management** (`ConversationChain` class in `conversation_chain.py`):

1.  **Conversation Buffer Memory**:
    -   Implementation: `langchain.memory.ConversationBufferMemory`
    -   Storage: File-based persistent chat history (`FileChatMessageHistory`)
    -   Format: JSON files in `.memory/` directory, one per participant session
    -   Memory key: `"history"`
    -   Return format: Message objects (full conversation context)
2.  **Memory Reset Policy**:
    -   Default: Reset on each new session launch
    -   Archive previous session: Timestamped archive files stored in `.memory/archive/`
    -   Configuration: `RESET_MEMORY` and `ARCHIVE_MEMORY` environment variables

### Prompt Construction

**Message Structure**

(LangChain message types): `python [SystemMessage, *history_messages, HumanMessage]`

System Message Assembly:

-   Core instructions (task framing, role definition)
-   Personality instructions (mode-specific behaviour)
-   Stage-specific instructions (current task context)
-   Output format constraints (JSON schema specification)

```         
Human Message Format:   {     
"user": "<transcribed_speech>",     
"stage": "<current_stage>",     
"detected_emotion": "<emotion_label>",     
"frustration_note": "<optional_alert>",     
"timer_expired": "<task_id>",     ...   }
```

-   JSON-encoded context variables passed alongside user input
-   Enables LLM to access environmental state without breaking message history

### Memory Persistence:

-   Save after each turn: memory.save_context({"input": user_text}, {"output": llm_response})
-   Maintains conversational coherence across multi-stage interaction
-   Enables LLM to reference previous exchanges (e.g., "As I mentioned earlier...")

### LangChain Design Rationale

Why LangChain for this application:

1.  Memory abstraction: Automatic conversation history management without manual message list handling
2.  Provider flexibility: Easy switching between Gemini and OpenAI without rewriting prompt logic
3.  Message typing: Structured SystemMessage/HumanMessage/AIMessage types maintain role clarity
4.  File persistence: Built-in FileChatMessageHistory enables session recovery and archiving
5.  Future extensibility: Framework supports adding tools, retrieval, or multi-agent patterns if needed

Alternatives considered: Direct API calls would reduce dependencies but require reimplementing conversation history management, prompt templating, and cross-provider compatibility layers.

### LangChain Limitations in This Context

-   No chains used: Despite name ConversationChain, this is a direct LLM wrapper (no LangChain Expression Language chains)
-   No tools/agents: Simple request-response pattern (could extend for future tool-use capabilities)
-   Custom JSON parsing: LangChain's built-in output parsers not used; custom extraction handles malformed responses more robustly

### Speech Processing

**Speech-to-Text (STT)**:

-   Provider: Deepgram Nova-2 (`deepgram-sdk` 4.8.1)
-   Model: `nova-2` with US English (`en-US`)
-   Smart formatting enabled
-   Interim results for real-time partial transcription
-   Voice Activity Detection (VAD) events
-   Adaptive endpointing: 200ms (conversational stages) / 500ms (log-reading task)
-   Utterance end timeout: 1000ms (conversational) / 2000ms (log-reading)
-   Audio processing: RTSP stream from Misty → FFmpeg MP3 encoding → Deepgram WebSocket

**Text-to-Speech (TTS)** - Three options:

1.  **Misty Onboard TTS** (this is the one we used): Native robot voice via onboard TTS

2.  **OpenAI TTS**:

    -   Model: `tts-1` (low-latency variant)
    -   Voice: `sage`
    -   Format: MP3, served via HTTP (port 8000)
    -   Ultimately chose not to use because we wanted a more robotic, non-human voice
    -   Didn't want the human voice influencing trust on its own (future research could look at trust in relation to type of voice)

3.  **Deepgram Aura**:

    -   Model: `aura-stella-en` (conversational female voice)
    -   Format: MP3, served via HTTP
    -   Ultimately chose not to use because we wanted a more robotic, non-human voice

### Emotion Detection

**Model**: DistilRoBERTa-base fine-tuned on emotion classification

-   HuggingFace identifier: `j-hartmann/emotion-english-distilroberta-base`
-   Framework: `transformers` (4.57.1) pipeline
-   Hardware: CUDA GPU acceleration (automatic fallback to CPU)
-   Output classes: joy, anger, sadness, fear, disgust, surprise, neutral
-   Mapped to interaction states: positively engaged, irritated, disappointed, anxious, frustrated, curious, neutral

### Multimodal Robot behaviour

**Expression System**: 25 custom action scripts combining:

-   LLM was prompted to choose an appropriate expression from a predefined set based on context.
-   Facial displays (image eye-expression files on screen)
-   LED color patterns (solid, breathe, blink)
-   Arm movements (bilateral position control)
-   Head movements (pitch, yaw, roll control)

**Nonverbal Backchannel behaviours** (RESPONSIVE mode only):

-   Real-time listening cues triggered by partial transcripts (disfluencies, hesitation markers)
-   Emotion-matched expressions (e.g., "concern" for hesitation, "excited" for breakthroughs)

**LED State Indicators**:

-   Blue (0, 199, 252): Actively listening (microphone open)
-   Purple (100, 70, 160): Processing/speaking (microphone closed)

## Data Collection

**Database**: DuckDB relational database (`experiment_data.duckdb`)

**Logged Data**:

1\. **Sessions table**: participant ID (auto-incremented P01, P02...), condition assignment, timestamps, duration

2\. **Dialogue turns table**: turn-by-turn user input, LLM response, expression, response latency (ms), behavioural flags

3\. **Task responses table**: submitted answers with timestamps and time-on-task

4\. **Events table**: stage transitions, silence check-ins, timer expirations, detected emotions

## Interaction Dynamics

### Silence Handling

**Silence detection**: 25-second threshold triggers check-in prompt

-   RESPONSIVE: "Still working on it? No rush - I'm here if you need help!"
-   CONTROL: "I am ready when you have a question."

### Emotion-Responsive behaviours (RESPONSIVE condition only)

**Frustration tracking**:

-   Consecutive detection of frustrated/anxious/irritated/disappointed states
-   Threshold: ≥2 consecutive frustrated turns triggers proactive support
-   RESPONSIVE adaptation: "This part can be tough. Want me to walk you through it?"

**Positive emotion matching**:

-   Celebratory language for curious/engaged states
-   Momentum maintenance: "Yes! Great observation!"

**Run Mode**: Set programmatically in `mistyGPT_emotion.py` line 126:

``` python
RUN_MODE = "RESPONSIVE"  # or "CONTROL"
```

## Prompt Engineering

Modular prompt system (PromptLoader class):

-   core_system.md: Task framing, role description, output format schema
-   role_responsive.md / role_control.md: Condition-specific personality instructions
-   stage1_greeting.md through stage5_wrap_up.md: Stage-specific task instructions.

Context injection: Real-time contextual variables passed to LLM:

-   Current stage
-   Detected emotion (if enabled)
-   Task submission status
-   Timer expiration notifications
-   Silence check-in flags

## Inter-process Communication

Flask REST API endpoints:

-   GET /stage_current: Synchronize stage state with facilitator GUI
-   GET /task_submission_status: Detect participant task submissions
-   GET /timer_expired_status: Detect timer expirations
-   POST /stage: Update stage (facilitator override)
-   POST /reset_timer: Clear timer expiration flags